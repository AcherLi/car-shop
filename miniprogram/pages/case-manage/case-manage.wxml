<view>
  <nav
    tabList="{{tabList}}"
    current="{{current}}"
    bindchange="navChange"/>
  <view class="list">
    <common-view
      class="case-item"
      wx:for="{{caseList}}"
      wx:key="id"
      item="{{item}}">
      <button
        class="edit"
        size="mini"
        type="primary"
        data-id="{{item._id}}"
        bindtap="handleDetail"
      >详情</button>
      <button
        wx:if="{{current === 1}}"
        class="edit"
        size="mini"
        type="primary"
        data-id="{{item._id}}"
        data-url="case-add"
        bindtap="navTo"
      >编辑</button>
      <button
        wx:if="{{current !== 2}}"
        class="edit"
        size="mini"
        type="primary"
        data-id="{{item._id}}"
        data-type="{{item.status === 0 ? 'down' : 'up'}}"
        bindtap="handleAction"
      >{{item.status === 0 ? '下架' : '上架'}}</button>
      <button
        class="del"
        size="mini"
        type="warn"
        data-id="{{item._id}}"
        data-type="del"
        bindtap="handleAction"
      >删除</button>
    </common-view>
  </view>
  <image
    class="add"
    src="cloud://production-j3smc.7072-production-j3smc-1303038162/img/add.png"
    data-url="case-add"
    bindtap="navTo"/>
</view>
